<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1,, interactive-widget=resizes-content"><title>Database - Team Spiral Racing Documentation</title><meta property="og:title" value="Database - Team Spiral Racing Documentation"><meta name="description" content="Internal documentation for Team Spiral Racing"><meta property="og:description" content="Internal documentation for Team Spiral Racing"><meta name="keywords"><link rel="stylesheet" href="/__hyperbook_assets/normalize.css?version=0.53.4"><style>
html,
body {
  overflow: hidden;
  margin: 0;
  height: 100dvh;
  width: 100dvw;
}

body {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}

body::-webkit-scrollbar {
  display: none;
}

:root {
  --color-brand: rgb(163, 90, 132);
  --color-brand-dark: rgb(163, 90, 132);
  --color-brand-text: white;
  --main-width: 980px;
  --header-height: 60px;
  --nav-width: minmax(300px, 0.33fr);
  --nav-font-size: 0.9rem;
  --body-font-size: 14px;
}
body {
  overscroll-behavior-x: none;
  background-color: transparent;
  color: var(--color-text);
  font-family: hyperbook-body;
  font-weight: normal;
  font-size: var(--body-font-size);
  margin: 0;
  padding: 0;
}
</style><noscript id="dark-mode-toggle-stylesheets"><link rel="stylesheet" href="/__hyperbook_assets/light.css?version=0.53.4" media="(prefers-color-scheme: light)"><link rel="stylesheet" href="/__hyperbook_assets/dark.css?version=0.53.4" media="(prefers-color-scheme: dark)"></noscript><script src="/__hyperbook_assets/dark-mode-toggle-stylesheets-loader.js?version=0.53.4"></script><script type="module" src="/__hyperbook_assets/dark-mode-toggle.mjs?version=0.53.4"></script><script src="/__hyperbook_assets/i18n.js?version=0.53.4"></script><script src="/__hyperbook_assets/dexie.min.js?version=0.53.4"></script><script src="/__hyperbook_assets/dexie-export-import.js?version=0.53.4"></script><script src="/__hyperbook_assets/store.js?version=0.53.4"></script><script>
window.Prism = window.Prism || {};
window.Prism.manual = true;</script><script src="/__hyperbook_assets/prism/prism.js?version=0.53.4"></script><link rel="stylesheet" href="/__hyperbook_assets/prism/prism.css?version=0.53.4"><link rel="stylesheet" href="/__hyperbook_assets/prism/prism-theme-github-dark.css?version=0.53.4" media="(prefers-color-scheme: dark)"><link rel="stylesheet" href="/__hyperbook_assets/prism/prism-theme-github-light.css?version=0.53.4" media="(prefers-color-scheme: light)"><link rel="stylesheet" href="/__hyperbook_assets/math/katex.min.css?version=0.53.4"><link rel="stylesheet" href="/__hyperbook_assets/shell.css?version=0.53.4"><link rel="stylesheet" href="/__hyperbook_assets/content.css?version=0.53.4"><link rel="stylesheet" href="/__hyperbook_assets/code.css?version=0.53.4"><script>
HYPERBOOK_ASSETS = "/__hyperbook_assets/"
</script><script type="module" src="/__hyperbook_assets/side-drawer.js?version=0.53.4" async></script><script src="/__hyperbook_assets/lunr.min.js?version=0.53.4" defer></script><script src="/__hyperbook_assets/search.js?version=0.53.4" defer></script><script src="/__hyperbook_assets/qrcode.js?version=0.53.4" async></script></head><body><div class="main-grid"><header><div class="mobile-nav"><button aria-label="Nav Toggle" class="toggle" onclick="hyperbook.navToggle()"><div class="bar1"></div><div class="bar2"></div><div class="bar3"></div></button><side-drawer id="nav-drawer"><div class="nav-drawer-content"><nav><ul><li><a class="page" href="/">Introduction</a></li></ul><div data-id="_nav:/branding" class="section"><div class="collapsible name empty  "><span class="label">Branding</span></div><div class="collapsible-content links"><ul class="pages"><li><a class="page" href="/branding/introduction">Introduction</a></li><li><a class="page" href="/branding/logos">Logos</a></li></ul></div></div><div data-id="_nav:/operations" class="section"><div class="collapsible name empty  "><span class="label">Operations</span></div><div class="collapsible-content links"><ul class="pages"><li><a class="page" href="/operations/introduction">Introduction</a></li><li><a class="page" href="/operations/new-tracks">Adding New Tracks</a></li><li><a class="page" href="/operations/new-member">Onboarding a New Team Member</a></li></ul></div></div><div data-id="_nav:/technical-systems" class="section"><div class="collapsible name empty  expanded"><span class="label">Technical Systems</span></div><div class="collapsible-content links"><ul class="pages"><li><a class="page" href="/technical-systems/introduction">Introduction</a></li><li><a class="page" href="/technical-systems/tsr-web">TSR Website</a></li><li><a class="page" href="/technical-systems/documents-web">Documents Website (External)</a></li><li><a class="page" href="/technical-systems/docs-web">Documentation Website (Internal)</a></li><li><a class="page active" href="/technical-systems/database">Database</a></li><li><a class="page" href="/technical-systems/data-service">Data Service</a></li></ul></div></div><div data-id="_nav:/youtube" class="section"><div class="collapsible name empty  "><span class="label">YouTube</span></div><div class="collapsible-content links"><ul class="pages"><li><a class="page" href="/youtube/introduction">Introduction</a></li><li><a class="page" href="/youtube/creating-videos">Creating Videos</a></li></ul></div></div></nav><a class="author" href="https://hyperbook.openpatch.org">Powered by <b>Hyperbook</b></a></div></side-drawer></div><a class="branding" href="/"><div class="logo"><img alt="logo" src="/logos/icon.png"></div><div class="name">Team Spiral Racing Documentation</div></a><button id="search-toggle" onclick="hyperbook.searchToggle()" title="Search"></button><side-drawer id="search-drawer" right><div class="search-drawer-content"><div class="search-input"><div class="search-icon"></div><input id="search-input" placerholder="..."><button class="search-button" onclick="hyperbook.search()"></button></div><div id="search-results"></div></div></side-drawer><dark-mode-toggle id="dark-mode-toggle" appearence="switch" title="Toggle between Dark and Light Mode" permanent></dark-mode-toggle></header><div class="sidebar"><nav><ul><li><a class="page" href="/">Introduction</a></li></ul><div data-id="_nav:/branding" class="section"><div class="collapsible name empty  "><span class="label">Branding</span></div><div class="collapsible-content links"><ul class="pages"><li><a class="page" href="/branding/introduction">Introduction</a></li><li><a class="page" href="/branding/logos">Logos</a></li></ul></div></div><div data-id="_nav:/operations" class="section"><div class="collapsible name empty  "><span class="label">Operations</span></div><div class="collapsible-content links"><ul class="pages"><li><a class="page" href="/operations/introduction">Introduction</a></li><li><a class="page" href="/operations/new-tracks">Adding New Tracks</a></li><li><a class="page" href="/operations/new-member">Onboarding a New Team Member</a></li></ul></div></div><div data-id="_nav:/technical-systems" class="section"><div class="collapsible name empty  expanded"><span class="label">Technical Systems</span></div><div class="collapsible-content links"><ul class="pages"><li><a class="page" href="/technical-systems/introduction">Introduction</a></li><li><a class="page" href="/technical-systems/tsr-web">TSR Website</a></li><li><a class="page" href="/technical-systems/documents-web">Documents Website (External)</a></li><li><a class="page" href="/technical-systems/docs-web">Documentation Website (Internal)</a></li><li><a class="page active" href="/technical-systems/database">Database</a></li><li><a class="page" href="/technical-systems/data-service">Data Service</a></li></ul></div></div><div data-id="_nav:/youtube" class="section"><div class="collapsible name empty  "><span class="label">YouTube</span></div><div class="collapsible-content links"><ul class="pages"><li><a class="page" href="/youtube/introduction">Introduction</a></li><li><a class="page" href="/youtube/creating-videos">Creating Videos</a></li></ul></div></div></nav><a class="author" href="https://hyperbook.openpatch.org">Powered by <b>Hyperbook</b></a></div><main><article>
<div class="hyperbook-markdown"><button id="toc-toggle" onclick="hyperbook.tocToggle()" title="Table of Contents"><div class="bar1"></div><div class="bar2"></div><div class="bar3"></div><div class="bar4"></div></button>
  <side-drawer id="toc-drawer" right>
    <div class="toc-drawer-content">
      <nav class="toc">
        <ul>
          <li class="level-1"><a href="#database">Database</a></li>
          <li class="level-2"><a href="#schemas">Schemas</a></li>
          <li class="level-4"><a href="#user">User</a></li>
          <li class="level-4"><a href="#session">Session</a></li>
          <li class="level-4"><a href="#blog-post">Blog Post</a></li>
          <li class="level-4"><a href="#track-time">Track Time</a></li>
          <li class="level-4"><a href="#event">Event</a></li>
        </ul>
      </nav>
    </div>
  </side-drawer>
  <h1 id="database"><a href="#database" class="heading"><span>Database</span></a><button class="bookmark" onclick="hyperbook.toggleBookmark(&#x22;/technical-systems/database#database&#x22;, &#x22;Database&#x22;)" title="Toggle Bookmark" data-key="/technical-systems/database#database">ðŸ”–</button></h1>
  <p>The current database is <a href="https://www.mongodb.com/">MongoDB</a> under Jonathan Lo's free MongoDB subscription. The main database is called <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>tsr-web</span></span><button type="button" data="tsr-web" title="Copy code" aria-label="Copy code" class="rehype-pretty-copy" data-name="rehype-pretty-copy-button" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add('rehype-pretty-copied');window.setTimeout(() => this.classList.remove('rehype-pretty-copied'), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}button[data='<span>'] {width: 0;height: 0;display: none;visibility: hidden;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></span> and has the following collections and information stored.</p>
  <h2 id="schemas"><a href="#schemas" class="heading"><span>Schemas</span></a><button class="bookmark" onclick="hyperbook.toggleBookmark(&#x22;/technical-systems/database#schemas&#x22;, &#x22;Schemas&#x22;)" title="Toggle Bookmark" data-key="/technical-systems/database#schemas">ðŸ”–</button></h2>
  <h4 id="user"><a href="#user" class="heading"><span>User</span></a><button class="bookmark" onclick="hyperbook.toggleBookmark(&#x22;/technical-systems/database#user&#x22;, &#x22;User&#x22;)" title="Toggle Bookmark" data-key="/technical-systems/database#user">ðŸ”–</button></h4>
  <table>
    <thead>
      <tr>
        <th><strong>Column</strong></th>
        <th><strong>Description</strong></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>id</td>
        <td>Internal MongoDB ID.</td>
      </tr>
      <tr>
        <td>email</td>
        <td>User's email provided during account creation.</td>
      </tr>
      <tr>
        <td>password</td>
        <td>SHA256 hashed store of the user's password.</td>
      </tr>
      <tr>
        <td>firstName</td>
        <td>Users first name provided during account creation.</td>
      </tr>
      <tr>
        <td>lastName</td>
        <td>Users last name provided during account creation.</td>
      </tr>
      <tr>
        <td>cars</td>
        <td>Relational mapping to the cars object. Contains the User's owned cars.</td>
      </tr>
      <tr>
        <td>role</td>
        <td>Role to designate privileges and permissions.</td>
      </tr>
      <tr>
        <td>sessions</td>
        <td>Relational mapping to sessions object. Web sessions to allow auto-login.</td>
      </tr>
      <tr>
        <td>trackTimes</td>
        <td>Relational mapping to track time object. Contains information about the user's track times.</td>
      </tr>
      <tr>
        <td>BlogPost</td>
        <td>Relational mapping to blog post object. If the user writes a blog post, they are saved as an author.</td>
      </tr>
      <tr>
        <td>Event</td>
        <td>Relational mapping to event object. User is saved as an author.</td>
      </tr>
    </tbody>
  </table>
  <h4 id="session"><a href="#session" class="heading"><span>Session</span></a><button class="bookmark" onclick="hyperbook.toggleBookmark(&#x22;/technical-systems/database#session&#x22;, &#x22;Session&#x22;)" title="Toggle Bookmark" data-key="/technical-systems/database#session">ðŸ”–</button></h4>
  <table>
    <thead>
      <tr>
        <th>Column</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>id</td>
        <td>Default MongoDB ID</td>
      </tr>
      <tr>
        <td>userId</td>
        <td>Maps to the user ID</td>
      </tr>
      <tr>
        <td></td>
        <td>When the session expires</td>
      </tr>
      <tr>
        <td>user</td>
        <td>Maps to the actual user object</td>
      </tr>
    </tbody>
  </table>
  <h4 id="blog-post"><a href="#blog-post" class="heading"><span>Blog Post</span></a><button class="bookmark" onclick="hyperbook.toggleBookmark(&#x22;/technical-systems/database#blog-post&#x22;, &#x22;Blog Post&#x22;)" title="Toggle Bookmark" data-key="/technical-systems/database#blog-post">ðŸ”–</button></h4>
  <table>
    <thead>
      <tr>
        <th>Column</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>title</td>
        <td>Title of the blog post</td>
      </tr>
      <tr>
        <td>imageRef</td>
        <td>An image to show as the cover of the blog</td>
      </tr>
      <tr>
        <td>content</td>
        <td>Actual text writing the blog post</td>
      </tr>
      <tr>
        <td></td>
        <td>Create time of the blog post</td>
      </tr>
      <tr>
        <td>author</td>
        <td>Maps to the User object</td>
      </tr>
      <tr>
        <td>authorId</td>
        <td>Maps to the User ID</td>
      </tr>
    </tbody>
  </table>
  <h4 id="track-time"><a href="#track-time" class="heading"><span>Track Time</span></a><button class="bookmark" onclick="hyperbook.toggleBookmark(&#x22;/technical-systems/database#track-time&#x22;, &#x22;Track Time&#x22;)" title="Toggle Bookmark" data-key="/technical-systems/database#track-time">ðŸ”–</button></h4>
  <table>
    <thead>
      <tr>
        <th>Column</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>id</td>
        <td>Default MongoDB Id</td>
      </tr>
      <tr>
        <td>track</td>
        <td>Name of the road or street track</td>
      </tr>
      <tr>
        <td>configuration</td>
        <td>Name of the configuration of the track (CW, uphill)</td>
      </tr>
      <tr>
        <td>date</td>
        <td>Date that the run occurred</td>
      </tr>
      <tr>
        <td>car</td>
        <td>What car ran it</td>
      </tr>
      <tr>
        <td>tag</td>
        <td>Tags of the run</td>
      </tr>
      <tr>
        <td>time</td>
        <td>What the time was</td>
      </tr>
      <tr>
        <td>proof</td>
        <td>A link to some asset that can provide proof of the time of the run</td>
      </tr>
      <tr>
        <td>userId</td>
        <td>A mapping to the user ID</td>
      </tr>
      <tr>
        <td>user</td>
        <td>A mapping to the user object</td>
      </tr>
    </tbody>
  </table>
  <h4 id="event"><a href="#event" class="heading"><span>Event</span></a><button class="bookmark" onclick="hyperbook.toggleBookmark(&#x22;/technical-systems/database#event&#x22;, &#x22;Event&#x22;)" title="Toggle Bookmark" data-key="/technical-systems/database#event">ðŸ”–</button></h4>
  <table>
    <thead>
      <tr>
        <th>Column</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>id</td>
        <td>MongoDB default ID</td>
      </tr>
      <tr>
        <td>title</td>
        <td>Title of the event</td>
      </tr>
      <tr>
        <td>imageRef</td>
        <td>Splash image for the event</td>
      </tr>
      <tr>
        <td>datetime</td>
        <td>Date and time of the event</td>
      </tr>
      <tr>
        <td>location</td>
        <td>Location of the event</td>
      </tr>
      <tr>
        <td>description</td>
        <td>Short text HTML/MD describing event</td>
      </tr>
      <tr>
        <td>createdAt</td>
        <td>Create time</td>
      </tr>
      <tr>
        <td>updatedAt</td>
        <td>Update time</td>
      </tr>
      <tr>
        <td>createdBy</td>
        <td>Mapping to user object</td>
      </tr>
      <tr>
        <td>createdById</td>
        <td>Mapping to user ID</td>
      </tr>
    </tbody>
  </table><button id="qrcode-open" onclick="hyperbook.qrcodeOpen()" title="QR Code"><div class="qrcode-icon"></div></button>
  <dialog id="qrcode-dialog">
    <div class="container">
      <div class="name">Database</div>
      <div class="make-qrcode"></div>
      <div class="url">
        <div data-href="/technical-systems/database"></div>
      </div>
    </div><button class="close" onclick="hyperbook.qrcodeClose()"><div class="close-icon"></div></button>
  </dialog>
</div>
</article><div class="jump-container"><a class="jump previous" href="/technical-systems/docs-web">Documentation Website (Internal)</a><a class="jump next" href="/technical-systems/data-service">Data Service</a></div><div class="meta"><a href="#" onclick="hyperbookReset()"><span class="reset-icon" title="Reset Hyperbook"></span></a><span class="copyright"><a href="https://creativecommons.org/licenses/by-nc/4.0">CC BY-NC</a> by <a href="https://www.teamspiralracing.com/">Team Spiral Racing</a></span></div></main></div><script src="/__hyperbook_assets/client.js?version=0.53.4" defer></script></body></html>